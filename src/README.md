# Структура проекта Thunder Grass

## Обзор
Проект организован по принципу разделения ответственности с четкой структурой папок.

## Структура папок

### `/models/` - Модели данных
- **`/models/plants/`** - Классы растений
  - `Plant.js` - Базовый класс для всех растений
  - `Dandelion.js` - Класс одуванчика
  - `Clover.js` - Класс клевера
  - `index.js` - Экспорт всех классов растений

- **`/models/game/`** - Игровые модели
  - `Field.js` - Модель игрового поля
  - `SoilTypes.js` - Типы почвы
  - `index.js` - Экспорт игровых моделей

### `/components/` - Vue компоненты
- **`/components/plants/`** - Компоненты растений
  - `Plant.vue` - Базовый компонент растения
  - `Dandelion.vue` - Компонент одуванчика
  - `Clover.vue` - Компонент клевера
  - `index.js` - Экспорт компонентов растений

- **`/components/ui/`** - UI компоненты
  - `InfoPanel.vue` - Информационная панель
  - `FieldInfoPanel.vue` - Панель информации о поле
  - `Navigation.vue` - Навигация
  - `index.js` - Экспорт UI компонентов

- **`/components/debug/`** - Отладочные компоненты
  - `DebugPage.vue` - Страница отладки

- **Корневые компоненты**
  - `Field.vue` - Компонент игрового поля
  - `SceneSetup.vue` - Настройка 3D сцены

### `/stores/` - Pinia stores
- `gameStore.js` - Логика игры
- `fieldStore.js` - Управление полями
- `playerStore.js` - Управление игроками

## Принципы организации

### 1. Наследование растений
Все растения наследуются от базового класса `Plant` и имеют:
- Собственную логику роста
- Специфичные высоты для каждой стадии
- Методы `getHeightOffset()` и `getPosition()`

### 2. Индексные файлы
Каждая папка содержит `index.js` для удобного импорта:
```javascript
// Вместо
import Dandelion from '../models/plants/Dandelion.js';

// Можно использовать
import { Dandelion } from '../models/plants';
```

### 3. Разделение ответственности
- **Модели** - только логика данных
- **Компоненты** - только представление
- **Stores** - управление состоянием

### 4. Правильные пути импорта
При перемещении файлов в подпапки важно обновить относительные пути:
```javascript
// Для файлов в /components/ui/ к stores/
import { useGameStore } from '../../stores/gameStore.js';

// Для файлов в /components/debug/ к models/
import { Dandelion } from '../../models/plants';
```

## Добавление новых растений

1. Создать класс в `/models/plants/`
2. Создать компонент в `/components/plants/`
3. Добавить в индексные файлы
4. Обновить фабричные функции в stores

## Добавление новых UI компонентов

1. Создать компонент в `/components/ui/`
2. Добавить в `/components/ui/index.js`
3. Импортировать где нужно
4. **Важно**: Использовать правильные относительные пути к stores и models

## Известные проблемы и решения

### Ошибка импорта stores
Если получаете ошибку `Failed to resolve import "../stores/gameStore.js"`:
- Проверьте, что используете правильный относительный путь
- Для файлов в `/components/ui/` путь должен быть `../../stores/gameStore.js`
- Для файлов в `/components/debug/` путь должен быть `../../stores/gameStore.js`
